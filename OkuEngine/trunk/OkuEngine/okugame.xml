<okugame>
  <engine>
    <renderer type="opengl">
      <fullscreen>no</fullscreen>
      <width>1024</width>
      <height>768</height>
      <depth>no</depth>
      <clearcolor>#000F</clearcolor>
      <passes>
        <pass targets="1" />
        <pass targets="1" />
      </passes>
    </renderer>
    <sound type="null">
      <volume>1.0</volume>
    </sound>
  </engine>

  <game>
    <attributes>
      <name>GCC Test</name>
      <!-- References scene by id -->
      <startscene>1</startscene> 
    </attributes>

    <userevents>
      <event>
        <id>1000001</id>
        <name>Steer Left</name>
      </event>
      <event>
        <id>1000002</id>
        <name>Steer Right</name>
      </event>
      <event>
        <id>1000003</id>
        <name>Test Attributes</name>
      </event>
      <event>
        <id>1000004</id>
        <name>Test States</name>
      </event>
      <event>
        <id>1000005</id>
        <name>Test Move Left</name>
      </event>
      <event>
        <id>1000006</id>
        <name>Test Move Right</name>
      </event>
      <event>
        <id>1000007</id>
        <name>Move Viewport Left</name>
      </event>
      <event>
        <id>1000008</id>
        <name>Move Viewport Right</name>
      </event>
      <event>
        <id>1000009</id>
        <name>Move Viewport Up</name>
      </event>
      <event>
        <id>1000010</id>
        <name>Move Viewport Down</name>
      </event>
    </userevents>

    <keybindings>
      <binding>
        <key>A</key>
        <action>Down</action>
        <!-- If "yes", event is triggered every frame while the button is hold down.
             If "no, event is only triggered once when the button is pressed down."-->
        <state>yes</state>
        <event>1000001</event>
      </binding>
      <binding>
        <key>D</key>
        <action>Down</action>
        <state>yes</state>
        <event>1000002</event>
      </binding>
      <binding>
        <key>S</key>
        <action>Down</action>
        <state>no</state>
        <event>1000003</event>
      </binding>
      <binding>
        <key>W</key>
        <action>Down</action>
        <state>no</state>
        <event>1000004</event>
      </binding>
      <binding>
        <key>Left</key>
        <action>Down</action>
        <state>yes</state>
        <event>1000005</event>
      </binding>
      <binding>
        <key>Right</key>
        <action>Down</action>
        <state>yes</state>
        <event>1000006</event>
      </binding>
      <binding>
        <key>NumPad4</key>
        <action>Down</action>
        <state>yes</state>
        <event>1000007</event>
      </binding>
      <binding>
        <key>NumPad6</key>
        <action>Down</action>
        <state>yes</state>
        <event>1000008</event>
      </binding>
      <binding>
        <key>NumPad8</key>
        <action>Down</action>
        <state>yes</state>
        <event>1000009</event>
      </binding>
      <binding>
        <key>NumPad2</key>
        <action>Down</action>
        <state>yes</state>
        <event>1000010</event>
      </binding>
    </keybindings>
    
    <images>
      <image>
        <id>1</id>
        <name>Yin-Yang</name>
        <!-- Optional for render targets -->
        <resource>yinyang.png</resource> 
      </image>
      <image>
        <id>2</id>
        <name>Car</name>
        <!-- Optional for render targets -->
        <resource>car.png</resource> 
      </image>
      <image>
        <id>3</id>
        <name>Zelda Map</name>
        <!-- Optional for render targets -->
        <resource>zelda_map.png</resource>
        <compress>yes</compress>
      </image>
    </images>

    <animations>
      <animation>
        <id>1</id>
        <name>Switching</name>
        <loop>yes</loop>
        <frames>
          <frame>
            <image>1</image>
            <duration>50</duration>
          </frame>
          <frame>
            <image>2</image>
            <duration>50</duration>
          </frame>
        </frames>
      </animation>
    </animations>

    <behaviors>
      <behavior>
        <id>1</id>
        <name>Turn Car</name>
        <handlers>
          <handler>
            <event>1000001</event>
            <script>
              <![CDATA[
              okuObjectSetAngle(1, okuObjectGetAngle(1) + (90 * timeDelta));
              ]]>
            </script>
          </handler>
          <handler>
            <event>1000002</event>
            <script>
              <![CDATA[
              okuObjectSetAngle(1, okuObjectGetAngle(1) - (90 * timeDelta));
              ]]>
            </script>
          </handler>
        </handlers>
      </behavior>
      <behavior>
        <id>2</id>
        <name>Test Script</name>
        <handlers>
          <handler>
            <event>1000003</event>
            <script>
              <![CDATA[
              var test = okuActorGetAttribute(1, "Test");
              test = "Saublöd!";              
              okuActorSetAttribute(1, "test", test);
              ]]>
            </script>
          </handler>
          <handler>
            <event>1000004</event>
            <script>
              <![CDATA[
              print(okuActorGetCurrentState(1));
              okuActorSetCurrentState(1, "normal");
              ]]>
            </script>
          </handler>
          <handler>
            <event>1000005</event>
            <script>
              <![CDATA[
              var x = okuObjectGetX(1);
              x = x - (100 * timeDelta);
              okuObjectSetX(1, x);
              ]]>
            </script>
          </handler>
          <handler>
            <event>1000006</event>
            <script>
              <![CDATA[
              var x = okuObjectGetX(1);
              x = x + (100 * timeDelta);
              okuObjectSetX(1, x);
              ]]>
            </script>
          </handler>
          <handler>
            <event>1000</event>
            <script>
              <![CDATA[
              print(param1);
              print(param2);
              print(param3);
              ]]>
            </script>
          </handler>
          <handler>
            <event>1000007</event>
            <script>
              <![CDATA[
              okuMoveViewport(-500 * timeDelta, 0);
              ]]>
            </script>
          </handler>
          <handler>
            <event>1000008</event>
            <script>
              <![CDATA[
              okuMoveViewport(500 * timeDelta, 0);
              ]]>
            </script>
          </handler>
          <handler>
            <event>1000009</event>
            <script>
              <![CDATA[
              okuMoveViewport(0, 500 * timeDelta);
              ]]>
            </script>
          </handler>
          <handler>
            <event>1000010</event>
            <script>
              <![CDATA[
              okuMoveViewport(0, -500 * timeDelta);
              ]]>
            </script>
          </handler>
        </handlers>
      </behavior>
    </behaviors>

    <actortypes>
      <actortype>
        <id>1</id>
        <name>Car Image</name>
        <attributes>
          <attribute>
            <name>Test</name>
            <type>String</type>
            <value>Hallo!</value>
          </attribute>
        </attributes>
        <states>
          <default>normal</default>
          <state>
            <name>normal</name>
            <attributes>
              <attribute>
                <name>Speed</name>
                <type>Number</type>
                <!-- Optional, default value here -->
                <value>0.0</value>
              </attribute>
            </attributes>
            <!--<shape>-10,-10;-10,10;10,10;10,-10</shape>-->
            <renderable type="image">
              <image>2</image>
            </renderable>
            <renderable type="line">
              <width></width>
              <closed></closed>
              <vertices>
                <points></points>
                <colors></colors>
                <texcoords></texcoords>
              </vertices>
            </renderable>
            <renderable type="point">
              <size></size>
              <vertices>
                <points></points>
                <colors></colors>
                <texcoords></texcoords>
              </vertices>
            </renderable>
            <renderable type="mesh">
              <!-- Optional -->
              <image></image>
              <mode></mode>
              <vertices>
                <points></points>
                <colors></colors>
                <texcoords></texcoords>
              </vertices>
            </renderable>
          </state>
        </states>
      </actortype>
    </actortypes>

    <sceneobjects>
      <actor>
        <id>1</id>
        <name>Car</name>
        <type>1</type>
        <states>
          <default>normal</default>
          <state>
            <name>normal</name>
            <attributes>
              <attribute>
                <name>Speed</name>
                <type>Number</type>
                <value>10.0</value>
              </attribute>
              <attribute>
                <name>Color</name>
                <type>Number</type>
                <value>123.0</value>
              </attribute>
            </attributes>
          </state>
        </states>
      </actor>
      <brush>
        <id>2</id>
        <name>TestBrush</name>
        <renderable type="image">
          <image>1</image>
        </renderable>
        <shape></shape>
      </brush>
      <brush>
        <id>3</id>
        <name>CollisionBrush</name>
        <renderable type="image">
          <image>1</image>
        </renderable>
      </brush>
    </sceneobjects>

    <scenes>
      <scene>
        <id>1</id>
        <name>Main Scene</name>
        <layers>
          <layer>
            <id>1</id>
            <name>Layer 01</name>
            <!-- Optional Backdrop -->
            <backdrop type="freeform">
              <offset>0,0</offset>
              <!-- Background image -->
              <image>3</image>
              <!-- One or more shapes -->
              <shapes>
                <polygon>-150.0,-150.0;-150.0,150.0;150.0,150.0;150.0,-150.0</polygon>
              </shapes>
            </backdrop>
            <nodes>
              <node>
                <!-- References scene object by id -->
                <object>1</object>
                <transform>
                  <position>0,0</position>
                  <rotation>-15</rotation>
                  <scale>1,1</scale>
                </transform>
                <nodes>
                  <node>
                    <!-- References scene object by id -->
                    <object>2</object>
                    <transform>
                      <position>0,-100</position>
                      <rotation>0</rotation>
                      <scale>0.5,0.5</scale>
                    </transform>
                  </node>
                </nodes>
              </node>
              <node>
                <!-- References scene object by id -->
                <object>3</object>
                <transform>
                  <position>-100,0</position>
                  <rotation>0</rotation>
                  <scale>1,1</scale>
                </transform>
              </node>
            </nodes>
          </layer>
        </layers>
      </scene>
    </scenes>

  </game>
</okugame>