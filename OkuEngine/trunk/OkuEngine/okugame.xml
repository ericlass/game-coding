<okugame>
  <engine>
    <renderer type="opengl">
      <fullscreen>no</fullscreen>
      <width>1024</width>
      <height>768</height>
      <depth>no</depth>
      <clearcolor>0,0,0</clearcolor>
      <passes>
        <pass targets="1" />
        <pass targets="1" />
      </passes>
    </renderer>
    <sound type="null">
      <volume>1.0</volume>
    </sound>
  </engine>

  <game>
    <attributes>
      <name>GCC Test</name>
      <!-- References scene by id -->
      <startscene>1</startscene> 
    </attributes>

    <userevents>
      <event>
        <id>100001</id>
        <name>Steer Left</name>
      </event>
      <event>
        <id>100002</id>
        <name>Steer Right</name>
      </event>
    </userevents>

    <keybindings>
      <binding>
        <key>A</key>
        <action>Down</action>
        <!-- If "yes", event is triggered every frame while the button is hold down.
             If "no, event is only triggered once when the button is pressed down."-->
        <state>yes</state>
        <event>100001</event>
      </binding>
      <binding>
        <key>D</key>
        <action>Down</action>
        <state>yes</state>
        <event>100002</event>
      </binding>
    </keybindings>
    
    <images>
      <image>
        <id>1</id>
        <name>Yin-Yang</name>
        <!-- Optional for render targets -->
        <resource>yinyang.png</resource> 
      </image>
      <image>
        <id>2</id>
        <name>Car</name>
        <!-- Optional for render targets -->
        <resource>car.png</resource> 
      </image>
    </images>

    <animations>
      <animation>
        <id>1</id>
        <name>Switching</name>
        <loop>yes</loop>
        <frames>
          <frame>
            <image>1</image>
            <duration>50</duration>
          </frame>
          <frame>
            <image>2</image>
            <duration>50</duration>
          </frame>
        </frames>
      </animation>
    </animations>

    <behaviors>
      <behavior>
        <id>1</id>
        <name>Turn CCW</name>
        <handlers>
          <handler>
            <event>100001</event>
            <script>
              <![CDATA[
              var actor = new Actor(1);
              actor.setAngle(actor.getAngle() + (90 * timeDelta));
              ]]>
            </script>
          </handler>
        </handlers>        
      </behavior>
      <behavior>
        <id>2</id>
        <name>Turn CW</name>
        <handlers>
          <handler>
            <event>100002</event>
            <script>
              <![CDATA[
              var actor = new Actor(1);
              actor.setAngle(actor.getAngle() - (90 * timeDelta));
              ]]>
            </script>
          </handler>
        </handlers>
      </behavior>
    </behaviors>

    <actortypes>
      <actortype>
        <id>1</id>
        <name>Car Image</name>
        <components>
          <renderable type="image">
            <image>2</image>
          </renderable>
          <attributes>
            <attribute>
              <name>Speed</name>
              <type>Number</type>
              <!-- Optional, default value here -->
              <value>0.0</value>
            </attribute>
          </attributes>
        </components>
      </actortype>

      <actortype>
        <id>2</id>
        <name>Lines</name>
        <components>
          <renderable type="line">
            <!-- A list of vectors for vertex positions -->
            <points>-24,24;24,24;24,-24;-24,-24</points>
            <!-- A list of colors for vertex colors -->
            <colors>0,255,255,255;255,0,255,255;255,255,0,255;255,255,255,255</colors>
            <!-- Determines if the last point is connected to the first point -->
            <closed>yes</closed>
            <width>2</width>
          </renderable>
        </components>
      </actortype>

      <actortype>
        <id>3</id>
        <name>Points</name>
        <components>
          <renderable type="point">
            <!-- A list of vectors for vertex positions -->
            <points>-24,24;24,24;24,-24;-24,-24</points>
            <!-- A list of colors for vertex colors -->
            <colors>0,255,255,255;255,0,255,255;255,255,0,255;255,255,255,255;</colors>
            <size>4</size>
          </renderable>
        </components>
      </actortype>

      <actortype>
        <id>4</id>
        <name>Mesh</name>
        <components>
          <renderable type="mesh">
            <!-- A list of vectors for vertex positions -->
            <points>-24,24;24,24;24,-24;-24,-24</points>
            <!-- A list of vectors for vertex texture coordinates -->
            <texcoords>0,1;1,1;1,0;0,0</texcoords>
            <!-- A list of colors for vertex colors -->
            <colors>255,255,255,255;255,255,255,255;255,255,255,255;255,255,255,255</colors>
            <!-- The mesh mode (Triangles, Quads, Line...) -->
            <mode>Quads</mode>
            <!-- The texture to use (image id) -->
            <image>1</image>
          </renderable>
        </components>
      </actortype>
    </actortypes>

    <actors>
      <actor>
        <id>1</id>
        <name>Car</name>
        <type>1</type>
        <components>
          <attributes>
            <attribute>
              <name>Speed</name>
              <value>10.0</value>
            </attribute>
          </attributes>
        </components>
      </actor>

      <actor>
        <id>2</id>
        <name>Lines</name>
        <type>2</type>
      </actor>

      <actor>
        <id>3</id>
        <name>Points</name>
        <type>3</type>
      </actor>

      <actor>
        <id>4</id>
        <name>Mesh</name>
        <type>4</type>
      </actor>
    </actors>

    <scenes>
      <scene>
        <id>1</id>
        <name>Main Scene</name>
        <layers>
          <layer>
            <id>1</id>
            <name>Layer 01</name>
            <nodes>
              <node>
                <!-- References actor by id -->
                <actor>1</actor>
                <!-- Tint color -->
                <tint>255,255,255,255</tint>
                <!-- Min and Max values of the bounding box -->
                <aabb>-24,-24;24,24</aabb>
                <transform>
                  <position>0,0</position>
                  <rotation>-15</rotation>
                  <scale>1,1</scale>
                </transform>
                <nodes>
                  <!-- Child nodes -->
                </nodes>
              </node>
            </nodes>
          </layer>
        </layers>
      </scene>
    </scenes>

  </game>
</okugame>